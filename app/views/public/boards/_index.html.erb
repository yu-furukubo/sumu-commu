<table class='table table-borderless table-hover text-center'>
  <thead>
    <tr>
      <th></th>
      <th style="width:50%">タイトル</th>
      <th style="width:20%">作成者</th>
      <th style="width:10%">回覧</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% boards.each do |board| %>
      <% if Read.find_by(board_id: board.id , member_id: current_member.id).present? %>
        <tr style="background-color:#EEEEEE">
          <td class="text-secondary">既読</td>
          <td><%= link_to board.name.truncate(40), public_board_path(board) %></td>
          <% if board.member_id == 0 %>
            <td>管理人</td>
          <% else %>
            <td><%= board.member.name %></td>
          <% end %>
          <% if board.is_circular == true %>
            <td class="text-center text-weight-bold text-success"><i class="fa-solid fa-check"></i></td>
            <% if board.circular_members.count == 0 %>
              <td>回覧メンバー未設定</td>
            <% elsif board.circular_members.where(is_checked: true) == board.circular_members %>
              <td class="text-success">全員確認済み</td>
            <% else %>
              <td>確認済み<%= board.circular_members.where(is_checked: true).count %>/<%= board.circular_members.count %></td>
            <% end %>
          <% else %>
            <td class="text-center">-</td>
            <td></td>
          <% end %>
        </tr>
      <% else %>
        <tr>
          <td></td>
          <td><%= link_to board.name.truncate(40), public_board_path(board) %></td>
          <% if board.member_id == 0 %>
            <td>管理人</td>
          <% else %>
            <td><%= board.member.name %></td>
          <% end %>
          <% if board.is_circular == true %>
            <td class="text-center text-weight-bold text-success"><i class="fa-solid fa-check"></i></td>
            <% if board.circular_members.count == 0 %>
              <td>回覧メンバー未設定</td>
            <% elsif board.circular_members.where(is_checked: true) == board.circular_members %>
              <td class="text-success">全員確認済み</td>
            <% else %>
              <td>確認済み<%= board.circular_members.where(is_checked: true).count %>/<%= board.circular_members.count %></td>
            <% end %>
          <% else %>
            <td class="text-center">-</td>
            <td></td>
          <% end %>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>