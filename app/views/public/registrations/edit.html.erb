<div class='container p-5 px-sm-0'>
  <div class='row'>
    <div class='col-md-10 offset-md-1'>
      <div class="row ml-5 mb-3">
        <h2>会員登録内容変更</h2>
      </div>

      <div class="ml-5 mb-3">
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :patch }) do |f| %>
          <div class="ml-5">
            <%= render "public/shared/error_messages", resource: resource %>
          </div>
          <table class="table table-borderless">
            <tbody>
              <div class="form-group">
                <tr>
                  <td>プロフィール画像</td>
                  <td><%= f.file_field :profile_image %></td>
                </tr>
              </div>

              <div class="form-group">
                <tr>
                  <td><%= f.label :氏名 %></td>
                  <td><%= f.text_field :name, autofocus: true, class: 'form-control' %></td>
                </tr>
              </div>

              <div class="form-group">
                <tr>
                  <% if current_member.residence.housing_type == Residence.housing_types.key(0) %>
                  <td><%= f.label :部屋番号 %></td>
                  <% else %>
                  <td><%= f.label :番地 %></td>
                  <% end %>
                  <td><%= f.text_field :house_address, class: 'form-control' %></td>
                </tr>
              </div>

              <div class="form-group">
                <tr>
                  <td><%= f.label :メールアドレス %></td>
                  <td><%= f.email_field :email, autocomplete: "email", class: 'form-control' %></td>
                </tr>
              </div>

              <div class="form-group">
                <tr>
                  <td>
                    <%= f.label :新しいパスワード %>
                    <span class="small">
                      (変更する場合は入力してください)
                      <% if @minimum_password_length %>
                        (半角英数字<%= @minimum_password_length %>文字以上)
                      <% end %>
                    </span>
                  </td>
                  <td><%= f.password_field :password, autocomplete: "new-password", class: 'form-control' %></td>
                </tr>
              </div>

              <div class="form-group">
                <tr>
                  <td><%= f.label :新しいパスワード %><span class="small">(確認用)</span></td>
                  <td><%= f.password_field :password_confirmation, autocomplete: "new-password", class: 'form-control' %></td>
                </tr>
              </div>
            </tbody>
          </table>

          <div class="actions form-group text-center mb-3">
            <%= f.submit "登録内容を変更する", class: 'btn btn-success' %>
          </div>
        <% end %>
        <%= link_to "<<戻る", member_information_path %>

        <div class="ml-5 mb-3 text-right">
          <p>アカウントを削除される場合は、こちらの「退会する」ボタンを押してください</p>
          <div class="ml-auto">
            <%= button_to "退会する", registration_path(resource_name), data: { confirm: "退会してもよろしいですか？", turbo_confirm: "本当に退会してもよろしいですか？" }, method: :delete, class: "btn btn-sm btn-danger" %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
